{"version":3,"sources":["App.js","index.js"],"names":["App","useState","erroGeo","setErroGeo","obtendoGeo","setObtendoGeo","erroClima","setErroClima","obtendoClima","setObtendoClima","cidade","setCidade","clima","setClima","a","process","urlClima","fetch","then","response","json","data","cod","catch","error","console","message","useEffect","apikey","latitude","longitude","url","log","results","components","city","country","navigator","geolocation","getCurrentPosition","position","coords","obtemCidade","code","Container","fluid","className","Navbar","bg","Brand","href","Nav","Link","Form","inline","FormControl","type","placeholder","value","onChange","e","target","color","Button","variant","onClick","obtemClima","Alert","onClose","dismissible","Heading","texto","Toast","delay","autohide","Header","Body","Jumbotron","Row","Card","name","main","temp","temp_min","temp_max","Img","src","weather","icon","title","description","Title","Text","Footer","Date","dt","toLocaleString","timeZone","sticky","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5404cc46.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Button from 'react-bootstrap/Button'\nimport Jumbotron from 'react-bootstrap/Jumbotron'\nimport Card from 'react-bootstrap/Card'\nimport Row from 'react-bootstrap/Row'\nimport Container from 'react-bootstrap/Container'\nimport Toast from 'react-bootstrap/Toast'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\nimport { FaCloudversify } from \"react-icons/fa\"\nimport { FaSpinner } from \"react-icons/fa\"\nimport { FaCloudRain } from \"react-icons/fa\"\nimport { FaArrowDown, FaArrowUp } from \"react-icons/fa\"\n\n\n\n/* API Geo Referenciamento\n* https://opencagedata.com/users/sign_up\n* API Fotos\n* https://unsplash.com/oauth/applications\n* \n* https://api.unsplash.com/search/photos?query=Itu&client_id=SuaChave&page=1&w=1500&dpi=2\n*\n* API Weather\nhttps://openweathermap.org/api\n*/\n\nfunction App() {\n  const [erroGeo, setErroGeo] = useState(null)\n  const [obtendoGeo, setObtendoGeo] = useState(false)\n  const [erroClima, setErroClima] = useState(null)\n  const [obtendoClima, setObtendoClima] = useState(false)\n  const [cidade, setCidade] = useState('')\n  const [clima, setClima] = useState(null)\n\n  //Fonte: https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/code\n  const listaErrosGeo = [{ \"codigo\": 1, \"texto\": \"Não foi dada permissão para o sistema poder encontrar a sua localização\" },\n  { \"codigo\": 2, \"texto\": \"Não foi possível obter a sua localização\" },\n  { \"codigo\": 3, \"texto\": \"O tempo para obter a sua localização foi expirado!\" }]\n\n  useEffect(() => {\n\n    const apikey = process.env.REACT_APP_APIKEY\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        //console.log(position)\n        position.coords.latitude && obtemCidade(position.coords.latitude, position.coords.longitude)\n      }, function (error) {\n        //console.log(error)\n        setErroGeo(error.code)\n      })\n    }\n    async function obtemCidade(latitude, longitude) {\n      setObtendoGeo(true)\n      let url = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apikey}`\n      await fetch(url)\n        .then(response => response.json())\n        .then(data => {\n          console.log(data.results[0].components)\n          setCidade(data.results[0].components.city + ', ' + data.results[0].components.country)\n        })\n        .catch(function (error) {\n          console.error('Houve um problema ao efetuar a requisição: ' + error.message);\n        });\n      setObtendoGeo(false)\n    }\n  }, [])\n\n\n  async function obtemClima(cidade) {\n    setObtendoClima(true)\n    const apiweather = process.env.REACT_APP_OPENWEATHER\n    let urlClima = `http://api.openweathermap.org/data/2.5/weather?q=${cidade}&lang=pt&units=metric&appid=${apiweather}`\n    await fetch(urlClima)\n      .then(response => response.json())\n      .then(data => {\n        data.cod === '404' ? setErroClima('Cidade não encontrada') : setClima(data)\n      })\n      .catch(function (error) {\n        console.error('Houve um problema ao efetuar a requisição: ' + error.message);\n      });\n    setObtendoClima(false)\n  }\n\n\n  return (\n    <Container fluid={true} className=\"p-0\">\n      <Navbar bg=\"primary\">\n        <Navbar.Brand href=\"#home\">FateClima</Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"#home\">Início</Nav.Link>\n          <Nav.Link href=\"#contato\">Contato</Nav.Link>\n        </Nav>\n        <Form inline>\n          <FormControl type=\"text\"\n            placeholder={obtendoGeo ? 'Aguarde, obtendo a cidade...' : 'Informe a cidade'}\n            className=\"sm-3\"\n            value={cidade} onChange={e => setCidade(e.target.value)} />\n                      &nbsp;\n          {obtendoGeo && <FaSpinner className=\"spinner\" color=\"white\" />}\n          <Button variant=\"secondary\" onClick={() => { obtemClima(cidade) }} >\n            {obtendoClima ? <FaSpinner className=\"spinner\" color=\"white\" /> : <FaCloudversify color=\"white\" />}\n            &nbsp;Obter Clima</Button>\n        </Form>\n      </Navbar>\n\n      {erroGeo &&\n        <Alert variant=\"danger\" onClose={() => setErroGeo(null)} dismissible>\n          <Alert.Heading>Ops! Ocorreu um erro ao obter a sua localização</Alert.Heading>\n          <p>\n            {listaErrosGeo[erroGeo - 1].texto} <br></br>\n            Digite a <strong>cidade</strong> desejada no campo de busca e clique em Obter Clima.\n          </p>\n        </Alert>\n      }\n      { erroClima &&\n        <Toast onClose={() => setErroClima(null)} delay={4000} autohide className=\"bg-danger\">\n          <Toast.Header>\n            <strong className=\"mr-auto\">Cidade não encontrada!</strong>\n            <small>☹️</small>\n          </Toast.Header>\n          <Toast.Body className=\"bg-white text-danger\">Por favor, faça uma nova busca.</Toast.Body>\n        </Toast>\n      }\n      <Jumbotron className=\"jumbotron-background jumbotron-texto\">\n        <h1><FaCloudRain /> FateClima</h1>\n        <p>\n          Consulte o clima de qualquer cidade do mundo. <br></br>\n          App desenvolvido em ReactJS e integrado com as APIs Opencagedata e OpenWeatherMap\n  </p>\n      </Jumbotron >\n      {clima &&\n        <Row className=\"justify-content-center\">\n          <Card bg=\"primary\" className=\"cartao text-center\">\n            <Card.Header>\n              <h2>{clima.name}</h2>\n              <h3>{clima.main.temp}&#x2103;</h3> {/*https://www.toptal.com/designers/htmlarrows/symbols/*/}\n              <h5>min: {clima.main.temp_min}&#x2103;<FaArrowDown className=\"text-danger\" /> - máx: {clima.main.temp_max}&#x2103;<FaArrowUp className=\"text-success\" /></h5>\n            </Card.Header>\n            <Card.Body className=\"bg-dark\">\n              <Card.Img src={`http://openweathermap.org/img/wn/${clima.weather[0].icon}@4x.png`} title={clima.weather[0].description} />\n              <h3 className=\"text-light\">{clima.weather[0].description}</h3>\n              <Card.Title className=\"text-light\">Previsão do Tempo</Card.Title>\n              <Card.Text>\n\n              </Card.Text>\n            </Card.Body>\n            <Card.Footer className=\"text-light\">Atualizado em: {new Date(clima.dt * 1000).toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' })}</Card.Footer>\n          </Card>\n        </Row>\n      }\n      <Navbar bg=\"dark\" sticky=\"bottom\" id=\"contato\" className=\"m-1\">\n        <Navbar.Brand href=\"#home\" className=\"text-light\">\n          <FaCloudRain /> FateClima - &copy; - Todos os direitos reservados - Desenvolvido por mim\n        </Navbar.Brand>\n      </Navbar>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}